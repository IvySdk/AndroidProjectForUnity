// GENERATED BY UNITY. REMOVE THIS COMMENT TO PREVENT OVERWRITING WHEN EXPORTING AGAIN
buildscript {
  repositories {
    google()
    mavenCentral()
          maven {
            url 'https://android-sdk.is.com/'
        }
   maven {
            url "https://sdk.tapjoy.com/"
        }
    maven {
      url "http://10.80.1.9:8081/repository/maven-android-release/"
      allowInsecureProtocol = true
    }
   maven {
            url "https://s3.amazonaws.com/smaato-sdk-releases/"
        }
        maven {
            url 'https://jitpack.io'
        }
   maven {
            url 'https://artifact.bytedance.com/repository/pangle'
        }
        maven { url "https://dl-maven-android.mintegral.com/repository/mbridge_android_sdk_oversea" }
        maven { url "https://dl-maven-android.mintegral.com/repository/mbridge_android_sdk_oversea" }
        maven { url "https://cboost.jfrog.io/artifactory/chartboost-ads/" }
        maven { url "https://verve.jfrog.io/artifactory/verve-gradle-release" }

  }

  dependencies {
        classpath 'com.android.tools.build:gradle:8.5.1'
        classpath 'com.google.gms:google-services:4.3.13'
        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.5.1'
  }
}

allprojects {
  repositories {
    google()
mavenCentral()
        maven {
            url 'https://android-sdk.is.com/'
        }
   maven {
            url "https://sdk.tapjoy.com/"
        }
    maven {
      url "http://10.80.1.9:8081/repository/maven-android-release/"
      allowInsecureProtocol = true
    }
        maven {
            url 'https://jitpack.io'
        }
   maven {
            url "https://s3.amazonaws.com/smaato-sdk-releases/"
        }
   maven {
            url 'https://artifact.bytedance.com/repository/pangle'
        }
        maven { url "https://dl-maven-android.mintegral.com/repository/mbridge_android_sdk_oversea" }
        maven { url "https://dl-maven-android.mintegral.com/repository/mbridge_android_sdk_oversea" }
        maven { url "https://cboost.jfrog.io/artifactory/chartboost-ads/" }
        maven { url "https://verve.jfrog.io/artifactory/verve-gradle-release" }

  }
}

apply plugin: 'com.android.application'

def devMode = true
def resultVersionCode = 1
def resultVersionName = "1.0.0"
def sdk_ver = "2.0.21.4"
def jsonFile = file('./configs/app.json')
def sdk_libs = new ArrayList()
def adsfall_ver = null
def pkgName = "com.ivy.test"

def additionalMetas = new HashMap()

if (jsonFile.exists()) {
  def appJson = new groovy.json.JsonSlurper().parseText(jsonFile.text)
  sdk_libs = appJson.sdk_type
  sdk_ver = appJson.sdk_ver
  devMode = appJson.dev
  resultVersionCode = appJson.versionCode
  resultVersionName = appJson.versionName
  additionalMetas = appJson.metadata
  adsfall_ver = appJson.adsfall
  pkgName = appJson.packageName
}

android {
  compileSdkVersion 34
  buildToolsVersion '34.0.0'

  signingConfigs {
    debug {
      storeFile file('configs/com.merge.farmtown.keystore')
      storePassword 'jsding'
      keyAlias 'mergegames'
      keyPassword 'jsding'
    }

    release {
      storeFile file('configs/com.merge.farmtown.keystore')
      storePassword 'jsding'
      keyAlias 'mergegames'
      keyPassword 'jsding'
    }
  }


  defaultConfig {
    applicationId pkgName

    targetSdkVersion 33
    minSdkVersion 21

    versionCode resultVersionCode
    versionName resultVersionName

    multiDexEnabled true

    //  Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713
    additionalMetas.each { key, val ->
      manifestPlaceholders.putAt(key, val)
    }

    ndk {
     //abiFilters "armeabi-v7a" , "arm64-v8a", "x86"
      abiFilters "armeabi-v7a","arm64-v8a"
    }
  }

  lintOptions {
    abortOnError false
    disable 'MissingTranslation'
  }

  aaptOptions {
    noCompress '.unity3d', '.ress', '.resource', '.obb'
  }
  packagingOptions {
        doNotStrip '*/armeabi-v7a/*.so'
        doNotStrip '*/arm64-v8a/*.so'
    }
packagingOptions{
	jniLibs{
		useLegacyPackaging true
	}
}
namespace pkgName

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_1_8
    targetCompatibility JavaVersion.VERSION_1_8
  }

  buildTypes {
    release {
   //   minifyEnabled true
   //   shrinkResources true
      signingConfig signingConfigs.release
      proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
    }

    debug {
      signingConfig signingConfigs.debug
    }
  }

  android.applicationVariants.all { variant ->
    variant.outputs.all {
      outputFileName = "${applicationId}-${variant.versionName}.apk"
    }
  }
}


dependencies {
  implementation fileTree(dir: 'libs', include: ['*.jar'])

    implementation platform('com.google.firebase:firebase-bom:32.7.2')
    implementation ('com.adsfall:adsfallsdk:' + sdk_ver)
    implementation 'com.google.firebase:firebase-crashlytics'

}

apply plugin: 'com.google.gms.google-services'
apply plugin: 'com.google.firebase.crashlytics'
